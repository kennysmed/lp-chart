<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
  <title>d3 test</title>

  <style type="text/css">
    .line {
      fill: none;
      stroke-width: 1.5px;
    }
    /* Each line on a chart will have a number from 1 upwards. */
    .line-1 {
      stroke: #000;
    }
    .line-2 {
    	stroke: #0c0;
    }
  </style>

  <script src="js/d3.v3.min.js"></script>
  <script src="js/chart.js"></script>

  <script>
    window.onload = function() {
    	// Two sets of data for the first chart:
      var data_1a = [
        {'date': 'Jan 2000', 'price': '1394.46' },
        {'date': 'Feb 2000', 'price': '1366.42' },
        {'date': 'Mar 2000', 'price': '1498.58' },
        {'date': 'Apr 2000', 'price': '1452.43' },
        {'date': 'May 2000', 'price': '1420.6' },
        {'date': 'Jun 2000', 'price': '1454.6' },
        {'date': 'Jul 2000', 'price': '1430.83' },
        {'date': 'Aug 2000', 'price': '1517.68' }
      ];
      var data_1b = [
        {'date': 'May 2000', 'price': '1094.46' },
        {'date': 'Jun 2000', 'price': '1366.42' },
        {'date': 'Jul 2000', 'price': '1598.58' },
        {'date': 'Aug 2000', 'price': '1752.43' },
        {'date': 'Sep 2000', 'price': '1420.6' },
        {'date': 'Oct 2000', 'price': '1454.6' },
        {'date': 'Nov 2000', 'price': '1430.83' },
        {'date': 'Dec 2000', 'price': '1817.68' }
      ];

      // One set of data for the second chart:
      var data2 = [
        {'date': 'Jan 2012', 'price': '1394.46' },
        {'date': 'Feb 2012', 'price': '366.42' },
        {'date': 'Mar 2012', 'price': '1598.58' },
        {'date': 'Apr 2012', 'price': '952.43' },
        {'date': 'May 2012', 'price': '1420.6' },
        {'date': 'Jun 2012', 'price': '454.6' },
        {'date': 'Jul 2012', 'price': '1430.83' },
        {'date': 'Aug 2012', 'price': '817.68' }
      ];

      // Set up the chart instance:
      var chart = timeSeriesChart()
          .x(function(d) { return formatDate.parse(d.date); })
          .y(function(d) { return +d.price; });

      var formatDate = d3.time.format("%b %Y");

      // Draw each chart in turn.
      // The datasets are passed in in an array.
      // Both use the same chart instance.
      d3.select("#chart1")
        .datum([data_1a, data_1b])
        .call(chart);

      d3.select("#chart2")
      	.datum([data2])
      	.call(chart);
    };
  </script>
</head>
<body>

  <div id="chart1"></div>

  <div id="chart2"></div>

</body>
</html>
